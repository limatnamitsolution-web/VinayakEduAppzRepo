<div class="grid-container">
  <div class="grid-header" *ngIf="!hideHeader">
    <h3 class="grid-title">{{ title }}</h3>
    <div class="header-actions">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input 
          type="text" 
          placeholder="Search..." 
          [(ngModel)]="searchText"
          (input)="onSearch()">
      </div>
    </div>
  </div>

  <div class="table-responsive">
    <table class="data-table">
      <thead>
        <tr>
          <th class="col-no" (click)="sortData('index')">
            No
            <i class="sort-icon" [class.asc]="sortColumn === 'index' && sortDirection === 'asc'" 
               [class.desc]="sortColumn === 'index' && sortDirection === 'desc'">
              ↕
            </i>
          </th>
          <th class="col-code" (click)="sortData('AdmNo')">
            AdmNo
             <i class="sort-icon" [class.asc]="sortColumn === 'AdmNo' && sortDirection === 'asc'" 
               [class.desc]="sortColumn === 'AdmNo' && sortDirection === 'desc'">
              ↕
            </i>
          </th>
          <th (click)="sortData('AdmDate')">AdmDate</th>
          <th (click)="sortData('DOB')">DOB</th>
          <th class="col-name" (click)="sortData('Student')">
            Student
             <i class="sort-icon" [class.asc]="sortColumn === 'Student' && sortDirection === 'asc'" 
               [class.desc]="sortColumn === 'Student' && sortDirection === 'desc'">
              ↕
            </i>
          </th>
          <th (click)="sortData('Class')">Class</th>
          <th (click)="sortData('Sec')">Sec</th>
          <th (click)="sortData('Father')">Father</th>
           <th (click)="sortData('F_MobileNo')">F_MobileNo</th>
          <th (click)="sortData('Mother')">Mother</th>         
          <th (click)="sortData('M_MobileNo')">M_MobileNo</th>
          <th class="col-actions">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of paginatedData; let i = index" 
            [class.even]="i % 2 === 0"
            [class.odd]="i % 2 === 1"
            [class.selected]="selectedItem?.id === row.id">
          <td class="col-no">{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td class="col-code"><span class="code-badge">{{ row.AdmNo }}</span></td>
          <td>{{ row.AdmDate }}</td>
          <td>{{ row.DOB }}</td>
          <td class="col-name">
            <div class="name-cell">
              <i class="fas fa-user-circle"></i>
              {{ row.Student }}
            </div>
          </td>
          <td>{{ row.Class }}</td>
          <td>{{ row.Sec }}</td>
          <td>{{ row.Father }}</td>
          <td>{{ row.F_MobileNo }}</td>
          <td>{{ row.Mother }}</td>
          <td>{{ row.M_MobileNo }}</td>
          <td class="col-actions">
            <div class="action-buttons">
              <button class="btn-action btn-modify" 
                      (click)="onModify(row)"
                      title="Modify">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn-action btn-delete" 
                      (click)="onDelete(row)"
                      title="Delete">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    
    <div *ngIf="filteredData.length === 0" class="empty-state">
      <i class="fas fa-inbox"></i>
      <p>No data found</p>
      <p class="empty-subtitle" *ngIf="searchText">Try adjusting your search criteria</p>      
    </div>
  </div>

    <div class="grid-footer" *ngIf="filteredData.length > 0">
    <div class="pagination-info">
      Showing {{ (currentPage - 1) * pageSize + 1 }} to 
      {{ Math.min(currentPage * pageSize, filteredData.length) }} of 
      {{ filteredData.length }} entries
    </div>
    <div class="pagination-controls">
      <button class="btn-pagination" 
              (click)="previousPage()" 
              [disabled]="currentPage === 1">
        <i class="fas fa-chevron-left"></i>
      </button>
      <span class="page-info">Page {{ currentPage }} of {{ totalPages }}</span>
      <button class="btn-pagination" 
              (click)="nextPage()" 
              [disabled]="currentPage === totalPages || totalPages === 0">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    <div class="page-size-selector">
      <label>Show:</label>
      <select [(ngModel)]="pageSize" (change)="onPageSizeChange()">
        <option *ngFor="let opt of pageSizeOptions" [value]="opt.value">{{ opt.label }}</option>
      </select>
    </div>
  </div>
</div>
